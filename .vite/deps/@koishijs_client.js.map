{
  "version": 3,
  "sources": ["../../node_modules/@koishijs/client/client/data.ts", "../../node_modules/@koishijs/client/client/components/common/index.ts", "../../node_modules/schemastery-vue/src/index.ts", "../../node_modules/schemastery-vue/src/icons/index.ts", "../../node_modules/schemastery-vue/src/utils.ts", "../../node_modules/@koishijs/client/client/components/index.ts", "../../node_modules/@koishijs/client/client/components/icons/index.ts", "../../node_modules/@koishijs/client/client/components/layout/index.ts", "../../node_modules/@koishijs/client/client/components/layout/utils.ts", "../../node_modules/@koishijs/client/client/components/notice/index.ts", "../../node_modules/@koishijs/client/client/components/slot.ts", "../../node_modules/@satorijs/components/src/chat/index.ts", "../../node_modules/@satorijs/components/src/popper/index.ts", "../../node_modules/@satorijs/components/src/popper/shared.ts", "../../node_modules/@satorijs/components/src/virtual/item.ts", "../../node_modules/@satorijs/components/src/virtual/index.ts", "../../node_modules/@koishijs/client/client/index.ts", "../../node_modules/cordis/src/context.ts", "../../node_modules/cordis/src/lifecycle.ts", "../../node_modules/cordis/src/registry.ts", "../../node_modules/cordis/src/state.ts", "../../node_modules/cordis/src/utils.ts", "../../node_modules/cordis/src/service.ts", "dep:@koishijs_client"],
  "sourcesContent": ["import { ClientConfig, Console, DataService, Events } from '@koishijs/plugin-console'\nimport { Promisify } from 'koishi'\nimport { reactive, ref } from 'vue'\nimport { useLocalStorage } from '@vueuse/core'\n\ninterface StorageData<T> {\n  version: number\n  data: T\n}\n\nexport function createStorage<T extends object>(key: string, version: number, fallback?: () => T) {\n  const storage = useLocalStorage('koishi.console.' + key, {} as StorageData<T>)\n  const initial = fallback ? fallback() : {} as T\n  if (storage.value.version !== version) {\n    storage.value = { version, data: initial }\n  } else if (!Array.isArray(storage.value.data)) {\n    storage.value.data = { ...initial, ...storage.value.data }\n  }\n  return reactive<T>(storage.value['data'])\n}\n\nexport type Store = {\n  [K in keyof Console.Services]?: Console.Services[K] extends DataService<infer T> ? T : never\n}\n\ndeclare const KOISHI_CONFIG: ClientConfig\nexport const config = KOISHI_CONFIG\nexport const store = reactive<Store>({})\n\nexport const socket = ref<WebSocket>(null)\nconst listeners: Record<string, (data: any) => void> = {}\nconst responseHooks: Record<string, [Function, Function]> = {}\n\nexport function send<T extends keyof Events>(type: T, ...args: Parameters<Events[T]>): Promisify<ReturnType<Events[T]>>\nexport function send(type: string, ...args: any[]) {\n  if (!socket.value) return\n  const id = Math.random().toString(36).slice(2, 9)\n  socket.value.send(JSON.stringify({ id, type, args }))\n  return new Promise((resolve, reject) => {\n    responseHooks[id] = [resolve, reject]\n    setTimeout(() => {\n      delete responseHooks[id]\n      reject(new Error('timeout'))\n    }, 60000)\n  })\n}\n\nexport function receive<T = any>(event: string, listener: (data: T) => void) {\n  listeners[event] = listener\n}\n\nreceive('data', ({ key, value }) => {\n  store[key] = value\n})\n\nreceive('patch', ({ key, value }) => {\n  if (Array.isArray(store[key])) {\n    store[key].push(...value)\n  } else {\n    Object.assign(store[key], value)\n  }\n})\n\nreceive('response', ({ id, value, error }) => {\n  if (!responseHooks[id]) return\n  const [resolve, reject] = responseHooks[id]\n  delete responseHooks[id]\n  if (error) {\n    reject(error)\n  } else {\n    resolve(value)\n  }\n})\n\nexport async function connect(endpoint: string) {\n  socket.value = new WebSocket(endpoint)\n\n  socket.value.onmessage = (ev) => {\n    const data = JSON.parse(ev.data)\n    console.debug('%c', 'color:purple', data.type, data.body)\n    if (data.type in listeners) {\n      listeners[data.type](data.body)\n    }\n  }\n\n  socket.value.onclose = (ev) => {\n    socket.value = null\n    for (const key in store) {\n      store[key] = undefined\n    }\n    console.log('[koishi] websocket disconnected, will retry in 1s...')\n    setTimeout(() => connect(endpoint), 1000)\n  }\n\n  return new Promise((resolve) => {\n    socket.value.onopen = resolve\n  })\n}\n", "import { App } from 'vue'\nimport Button from './k-button.vue'\nimport Form from './k-form.vue'\nimport Tab from './k-tab.vue'\n\nexport default function (app: App) {\n  app.component('k-button', Button)\n  app.component('k-form', Form)\n  app.component('k-tab', Tab)\n}\n", "import { App } from 'vue'\nimport Markdown from './markdown.vue'\nimport Schema from './schema.vue'\n\nexport * from './icons'\nexport * from './utils'\n\nexport default function (app: App) {\n  app.component('k-markdown', Markdown)\n  app.component('k-schema', Schema)\n}\n", "import IconExternal from './external.vue'\nimport IconEyeSlash from './eye-slash.vue'\nimport IconEye from './eye.vue'\n\nexport { IconExternal, IconEyeSlash, IconEye }\n", "import Schema from 'schemastery'\nimport { clone } from 'cosmokit'\n\nexport * from 'cosmokit'\nexport { Schema }\n\nconst primitive = ['string', 'number', 'boolean', 'bitset', 'const']\nconst dynamic = ['function', 'transform', 'is']\nconst composite = ['array', 'dict']\n\nexport function isObjectSchema(schema: Schema) {\n  if (schema.type === 'object') {\n    return true\n  } else if (schema.type === 'intersect') {\n    return schema.list.every(isObjectSchema)\n  } else if (schema.type === 'union') {\n    return getChoices(schema).every(isObjectSchema)\n  } else {\n    return false\n  }\n}\n\nexport function getChoices(schema: Schema) {\n  const inner: Schema[] = []\n  const choices = schema.list.filter((item) => {\n    if (item.meta.hidden) return\n    if (item.type === 'transform') inner.push(item.inner)\n    return !dynamic.includes(item.type)\n  })\n  return choices.length ? choices : inner\n}\n\nexport function getFallback(schema: Schema, required = false) {\n  if (!schema || schema.type === 'union' && getChoices(schema).length === 1) return\n  return clone(schema.meta.default) ?? (required ? inferFallback(schema) : undefined)\n}\n\nexport function inferFallback(schema: Schema) {\n  if (schema.type === 'string') return ''\n  if (schema.type === 'number') return 0\n  if (schema.type === 'boolean') return false\n  if (['dict', 'object', 'intersect'].includes(schema.type)) return {}\n}\n\nexport function validate(schema: Schema): boolean {\n  if (!schema || schema.meta.hidden) return true\n  if (schema.type === 'object') {\n    return Object.values(schema.dict).every(validate)\n  } else if (schema.type === 'intersect') {\n    return schema.list.every(isObjectSchema)\n  } else if (schema.type === 'union') {\n    const choices = getChoices(schema)\n    return choices.length === 1 || choices.every(item => validate(item))\n  } else if (composite.includes(schema.type)) {\n    return validate(schema.inner)\n  } else if (schema.type === 'tuple') {\n    return schema.list.every(item => primitive.includes(item.type))\n  } else {\n    return primitive.includes(schema.type)\n  }\n}\n\nexport function hasTitle(schema: Schema, root?: boolean) {\n  if (!schema) return true\n  if (schema.type === 'object') {\n    if (schema.meta.description) return true\n    const keys = Object.keys(schema.dict)\n    if (!keys.length) return true\n    return hasTitle(schema.dict[keys[0]])\n  } else if (schema.type === 'intersect') {\n    return hasTitle(schema.list[0])\n  } else if (schema.type === 'union') {\n    const choices = getChoices(schema)\n    return choices.length === 1 ? hasTitle(choices[0]) : false\n  } else if (root && composite.includes(schema.type) && validate(schema.inner)) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport function deepEqual(a: any, b: any) {\n  if (a === b) return true\n  if (typeof a !== typeof b) return false\n  if (typeof a !== 'object') return false\n  if (!a || !b) return false\n\n  // check array\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) return false\n    return a.every((item, index) => deepEqual(item, b[index]))\n  } else if (Array.isArray(b)) {\n    return false\n  }\n\n  // check object\n  return Object.keys({ ...a, ...b }).every(key => deepEqual(a[key], b[key]))\n}\n", "import { App } from 'vue'\nimport Element, { ElLoading, ElMessage, ElMessageBox } from 'element-plus'\n\nimport common from './common'\nimport form from 'schemastery-vue'\nimport ChatImage from './chat/image.vue'\nimport * as icons from './icons'\nimport layout from './layout'\nimport notice from './notice'\nimport Slot from './slot'\n\nimport 'element-plus/dist/index.css'\nimport './style.scss'\n\nexport const loading = ElLoading.service\nexport const message = ElMessage\nexport const messageBox = ElMessageBox\n\nexport * from './common'\nexport * from './layout'\nexport * from './notice'\n\nexport * from 'schemastery-vue'\nexport * from '@satorijs/components'\n\nexport { icons, ChatImage }\n\nexport default function (app: App) {\n  app.use(Element)\n\n  app.use(common)\n  app.use(form)\n  app.use(icons)\n  app.use(layout)\n  app.use(notice)\n\n  app.component('k-slot', Slot)\n}\n", "import { App, Component, defineComponent, h } from 'vue'\nimport { IconExternal, IconEye, IconEyeSlash } from 'schemastery-vue'\nimport Home from './activity/home.vue'\nimport Moon from './activity/moon.vue'\nimport Sun from './activity/sun.vue'\nimport Application from './svg/application.vue'\nimport BoxOpen from './svg/box-open.vue'\nimport CheckFull from './svg/check-full.vue'\nimport ChevronDown from './svg/chevron-down.vue'\nimport ChevronLeft from './svg/chevron-left.vue'\nimport ChevronRight from './svg/chevron-right.vue'\nimport ChevronUp from './svg/chevron-up.vue'\nimport ClipboardList from './svg/clipboard-list.vue'\nimport Edit from './svg/edit.vue'\nimport ExclamationFull from './svg/exclamation-full.vue'\nimport Expand from './svg/expand.vue'\nimport FileArchive from './svg/file-archive.vue'\nimport Filter from './svg/filter.vue'\nimport GitHub from './svg/github.vue'\nimport GitLab from './svg/gitlab.vue'\nimport InfoFull from './svg/info-full.vue'\nimport Koishi from './svg/koishi.vue'\nimport Link from './svg/link.vue'\nimport PaperPlane from './svg/paper-plane.vue'\nimport QuestionEmpty from './svg/question-empty.vue'\nimport Redo from './svg/redo.vue'\nimport Search from './svg/search.vue'\nimport SearchMinus from './svg/search-minus.vue'\nimport SearchPlus from './svg/search-plus.vue'\nimport StarEmpty from './svg/star-empty.vue'\nimport StarFull from './svg/star-full.vue'\nimport Tag from './svg/tag.vue'\nimport TimesFull from './svg/times-full.vue'\nimport Tools from './svg/tools.vue'\nimport Undo from './svg/undo.vue'\nimport User from './svg/user.vue'\n\nimport './style.scss'\n\nconst registry: Record<string, Component> = {}\n\nregister('activity:home', Home)\nregister('activity:moon', Moon)\nregister('activity:sun', Sun)\n\nregister('application', Application)\nregister('box-open', BoxOpen)\nregister('check-full', CheckFull)\nregister('chevron-down', ChevronDown)\nregister('chevron-left', ChevronLeft)\nregister('chevron-right', ChevronRight)\nregister('chevron-up', ChevronUp)\nregister('clipboard-list', ClipboardList)\nregister('edit', Edit)\nregister('exclamation-full', ExclamationFull)\nregister('expand', Expand)\nregister('external', IconExternal)\nregister('eye-slash', IconEyeSlash)\nregister('eye', IconEye)\nregister('file-archive', FileArchive)\nregister('filter', Filter)\nregister('github', GitHub)\nregister('gitlab', GitLab)\nregister('info-full', InfoFull)\nregister('koishi', Koishi)\nregister('link', Link)\nregister('paper-plane', PaperPlane)\nregister('question-empty', QuestionEmpty)\nregister('redo', Redo)\nregister('search', Search)\nregister('search-minus', SearchMinus)\nregister('search-plus', SearchPlus)\nregister('star-empty', StarEmpty)\nregister('star-full', StarFull)\nregister('tag', Tag)\nregister('times-full', TimesFull)\nregister('tools', Tools)\nregister('undo', Undo)\nregister('user', User)\n\nexport function register(name: string, component: Component) {\n  registry[name] = component\n}\n\nexport function install(app: App) {\n  app.component('k-icon', defineComponent({\n    props: {\n      name: String,\n    },\n    render(props) {\n      return props.name && h(registry[props.name])\n    },\n  }))\n}\n", "import { App } from 'vue'\nimport Layout from './k-layout.vue'\nimport Status from './k-status.vue'\nimport CardNumeric from './card-numeric.vue'\nimport Card from './card.vue'\nimport Content from './content.vue'\nimport Empty from './empty.vue'\nimport TabGroup from './tab-group.vue'\nimport TabItem from './tab-item.vue'\n\nexport * from './utils'\n\nexport default function (app: App) {\n  app.component('k-layout', Layout)\n  app.component('k-status', Status)\n  app.component('k-numeric', CardNumeric)\n  app.component('k-card', Card)\n  app.component('k-content', Content)\n  app.component('k-empty', Empty)\n  app.component('k-tab-group', TabGroup)\n  app.component('k-tab-item', TabItem)\n}\n", "import { ref } from 'vue'\n\nexport const isLeftAsideOpen = ref(false)\n", "import { App } from 'vue'\nimport Badge from './badge.vue'\nimport Comment from './comment.vue'\nimport Hint from './hint.vue'\n\nexport default function (app: App) {\n  app.component('k-badge', Badge)\n  app.component('k-comment', Comment)\n  app.component('k-hint', Hint)\n}\n", "import { views } from '..'\nimport { defineComponent, h } from 'vue'\n\nexport default defineComponent({\n  props: {\n    name: String,\n    tag: {\n      default: 'div',\n    },\n  },\n  setup: ({ name, tag }, { slots }) => () => {\n    return h(tag, [\n      ...slots.default?.() || [],\n      ...(views[name] || []).map(view => h(view.component)),\n    ])\n  },\n})\n", "import ChatInput from './input.vue'\nimport MessageContent from './content.vue'\n\nexport { ChatInput, MessageContent }\n", "import Dropdown from './dropdown.vue'\nimport Popper from './popper.vue'\nimport Tooltip from './tooltip.vue'\n\nexport * from './shared'\n\nexport { Dropdown, Popper, Tooltip }\n", "import { InjectionKey } from 'vue'\nimport { Placement } from '@popperjs/core'\n\nexport namespace injections {\n  export const placement: InjectionKey<Placement> = Symbol('INJECTION_PLACEMENT')\n  export const teleport: InjectionKey<string> = Symbol('INJECTION_TELEPORT')\n}\n", "import { Comment, defineComponent, Directive, Fragment, h, Ref, ref, Text, VNode, watch, withDirectives } from 'vue'\n\nexport const useRefDirective = (ref: Ref): Directive<Element> => ({\n  mounted(el) {\n    ref.value = el\n  },\n  updated(el) {\n    ref.value = el\n  },\n  beforeUnmount() {\n    ref.value = null\n  },\n})\n\nfunction findFirstLegitChild(node: VNode[]): VNode {\n  if (!node) return null\n  for (const child of node) {\n    if (typeof child === 'object') {\n      switch (child.type) {\n        case Comment:\n          continue\n        case Text:\n          break\n        case Fragment:\n          return findFirstLegitChild(child.children as VNode[])\n        default:\n          if (typeof child.type === 'string') return child\n          return child\n      }\n    }\n    return h('span', child)\n  }\n}\n\nconst VirtualItem = defineComponent({\n  props: {\n    class: {},\n  },\n\n  emits: ['resize'],\n\n  setup(props, { attrs, slots, emit }) {\n    let resizeObserver: ResizeObserver\n    const root = ref<HTMLElement>()\n\n    watch(root, (value) => {\n      resizeObserver?.disconnect()\n      if (!value) return\n\n      resizeObserver = new ResizeObserver(dispatchSizeChange)\n      resizeObserver.observe(value)\n    })\n\n    function dispatchSizeChange() {\n      if (!root.value) return\n      const marginTop = +(getComputedStyle(root.value).marginTop.slice(0, -2))\n      emit('resize', root.value.offsetHeight + marginTop)\n    }\n\n    const directive = useRefDirective(root)\n\n    return () => {\n      const head = findFirstLegitChild(slots.default?.(attrs))\n      return withDirectives(head, [[directive]])\n    }\n  },\n})\n\nexport default VirtualItem\n", "import VirtualItem from './item'\nimport VirtualList from './list.vue'\n\nexport { VirtualItem, VirtualList }\n", "import { Console } from '@koishijs/plugin-console'\nimport { Dict } from 'koishi'\nimport { App, Component, defineComponent, h, markRaw, reactive, ref, Ref, resolveComponent, watch } from 'vue'\nimport { createRouter, createWebHistory, RouteMeta, RouteRecordNormalized, START_LOCATION } from 'vue-router'\nimport { config, Store, store } from './data'\nimport install, { isNullable, remove } from './components'\nimport Overlay from './components/chat/overlay.vue'\nimport * as cordis from 'cordis'\n\nexport * from './components'\nexport * from './data'\n\nexport default install\n\n// layout api\n\nexport type Field = keyof Console.Services\nexport type Computed<T> = T | (() => T)\n\nexport interface SlotOptions {\n  type: string\n  order?: number\n  component: Component\n}\n\nexport interface PageExtension {\n  name: string\n  fields?: Field[]\n  badge?: () => number\n}\n\ninterface RouteMetaExtension {\n  icon?: string\n  order?: number\n  authority?: number\n  position?: Computed<'top' | 'bottom' | 'hidden'>\n}\n\nexport interface PageOptions extends RouteMetaExtension, PageExtension {\n  path: string\n  strict?: boolean\n  component: Component\n}\n\ndeclare module 'vue-router' {\n  interface RouteMeta extends RouteMetaExtension {\n    fields?: Field[]\n    badge?: (() => number)[]\n  }\n}\n\nexport const views = reactive<Record<string, SlotOptions[]>>({})\n\nexport const router = createRouter({\n  history: createWebHistory(config.uiPath),\n  linkActiveClass: 'active',\n  routes: [],\n})\n\nexport const extensions = reactive<Dict<cordis.Fork<Context>>>({})\n\nexport const routes: Ref<RouteRecordNormalized[]> = ref([])\n\nexport type Disposable = () => void\nexport type Extension = (ctx: Context) => void\n\nexport function getValue<T>(computed: Computed<T>): T {\n  return typeof computed === 'function' ? (computed as any)() : computed\n}\n\nexport interface Events<C extends Context> extends cordis.Events<C> {\n  'activity'(meta: RouteMeta): boolean\n}\n\nexport interface Context {\n  [Context.events]: Events<this>\n}\n\nexport class Context extends cordis.Context {\n  static app: App\n\n  /** @deprecated */\n  addView(options: SlotOptions) {\n    return this.slot(options)\n  }\n\n  /** @deprecated */\n  addPage(options: PageOptions) {\n    return this.page(options)\n  }\n\n  slot(options: SlotOptions) {\n    options.order ??= 0\n    markRaw(options.component)\n    const list = views[options.type] ||= []\n    const index = list.findIndex(a => a.order < options.order)\n    if (index >= 0) {\n      list.splice(index, 0, options)\n    } else {\n      list.push(options)\n    }\n    return this.state.collect('view', () => remove(list, options))\n  }\n\n  page(options: PageOptions) {\n    const { path, name, component, badge, fields = [], ...rest } = options\n    const dispose = router.addRoute({\n      path,\n      name,\n      component,\n      meta: {\n        order: 0,\n        authority: 0,\n        position: 'top',\n        fields,\n        badge: badge ? [badge] : [],\n        ...rest,\n      },\n    })\n    routes.value = router.getRoutes()\n    return this.state.collect('page', () => {\n      dispose()\n      routes.value = router.getRoutes()\n      return true\n    })\n  }\n}\n\nexport const root = new Context()\n\nroot.on('activity', (options) => {\n  return !options.fields.every(key => store[key])\n})\n\nroot.slot({\n  type: 'global',\n  component: Overlay,\n})\n\nexport function defineExtension(callback: Extension) {\n  return callback\n}\n\nasync function loadExtension(path: string) {\n  if (extensions[path]) return\n\n  if (path.endsWith('.css')) {\n    extensions[path] = root.plugin((ctx) => {\n      const link = document.createElement('link')\n      link.rel = 'stylesheet'\n      link.href = path\n      document.head.appendChild(link)\n      ctx.on('dispose', () => {\n        document.head.removeChild(link)\n      })\n    })\n    return\n  }\n\n  const exports = await import(/* @vite-ignore */ path)\n  extensions[path] = root.plugin(exports.default)\n\n  const { redirect } = router.currentRoute.value.query\n  if (typeof redirect === 'string') {\n    const location = router.resolve(redirect)\n    if (location.matched.length) {\n      router.replace(location)\n    }\n  }\n}\n\nconst initTask = new Promise<void>((resolve) => {\n  watch(() => store.http, async (newValue, oldValue) => {\n    newValue ||= []\n    for (const path in extensions) {\n      if (newValue.includes(path)) continue\n      extensions[path].dispose()\n      delete extensions[path]\n    }\n\n    await Promise.all(newValue.map((path) => {\n      return loadExtension(path).catch(console.error)\n    }))\n\n    if (!oldValue) resolve()\n  }, { deep: true })\n})\n\nrouter.beforeEach(async (to, from) => {\n  if (to.matched.length) return\n\n  if (from === START_LOCATION) {\n    await initTask\n    to = router.resolve(to)\n    if (to.matched.length) return to\n  }\n\n  const routes = router.getRoutes()\n    .filter(item => item.meta.position === 'top')\n    .sort((a, b) => b.meta.order - a.meta.order)\n  const path = routes[0]?.path || '/blank'\n  return {\n    path,\n    query: { redirect: to.fullPath },\n  }\n})\n\n// component helper\n\nexport namespace Card {\n  export function create(render: Function, fields: readonly Field[] = []) {\n    return defineComponent({\n      render: () => fields.every(key => store[key]) ? render() : null,\n    })\n  }\n\n  export interface NumericOptions {\n    icon: string\n    title: string\n    type?: string\n    fields?: Field[]\n    content: (store: Store) => any\n  }\n\n  export function numeric({ type, icon, fields, title, content }: NumericOptions) {\n    if (!type) {\n      return defineComponent(() => () => {\n        if (!fields.every(key => store[key])) return\n        return h(resolveComponent('k-numeric'), { icon, title }, () => content(store))\n      })\n    }\n\n    return defineComponent(() => () => {\n      if (!fields.every(key => store[key])) return\n      let value = content(store)\n      if (isNullable(value)) return\n      if (type === 'size') {\n        if (value >= (1 << 20) * 1000) {\n          value = (value / (1 << 30)).toFixed(1) + ' GB'\n        } else if (value >= (1 << 10) * 1000) {\n          value = (value / (1 << 20)).toFixed(1) + ' MB'\n        } else {\n          value = (value / (1 << 10)).toFixed(1) + ' KB'\n        }\n      }\n      return h(resolveComponent('k-numeric'), { icon, title }, () => [value])\n    })\n  }\n}\n", "import { defineProperty, Dict } from 'cosmokit'\nimport { Lifecycle } from './lifecycle'\nimport { Registry } from './registry'\nimport { isConstructor, resolveConfig } from './utils'\n\nexport interface Context {\n  root: this\n  mapping: Dict<symbol>\n  lifecycle: Lifecycle\n  registry: Registry<this>\n}\n\nexport class Context {\n  static readonly events = Symbol('events')\n  static readonly static = Symbol('static')\n  static readonly filter = Symbol('filter')\n  static readonly source = Symbol('source')\n  static readonly current = Symbol('current')\n  static readonly internal = Symbol('internal')\n  static readonly immediate = Symbol('immediate')\n\n  public options: Context.Config\n\n  constructor(config?: Context.Config) {\n    const attach = (internal: {}) => {\n      if (!internal) return\n      attach(Object.getPrototypeOf(internal))\n      for (const key of Object.getOwnPropertySymbols(internal)) {\n        this[key] = new internal[key](this, this.options)\n      }\n    }\n\n    this.root = this\n    this.mapping = Object.create(null)\n    this.options = resolveConfig(Object.getPrototypeOf(this).constructor, config)\n    attach(this[Context.internal])\n  }\n\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return `Context <${this.runtime.name}>`\n  }\n\n  extend(meta = {}): this {\n    return Object.assign(Object.create(this), meta)\n  }\n\n  isolate(names: string[]) {\n    const mapping = Object.create(this.mapping)\n    for (const name of names) {\n      mapping[name] = Symbol(name)\n    }\n    return this.extend({ mapping })\n  }\n}\n\nexport namespace Context {\n  export interface Config extends Lifecycle.Config, Registry.Config {}\n\n  export interface MixinOptions {\n    methods?: string[]\n    properties?: string[]\n  }\n\n  export function mixin(name: keyof any, options: MixinOptions) {\n    for (const key of options.methods || []) {\n      defineProperty(Context.prototype, key, function (this: Context, ...args: any[]) {\n        return this[name][key](...args)\n      })\n    }\n\n    for (const key of options.properties || []) {\n      Object.defineProperty(Context.prototype, key, {\n        get(this: Context) {\n          return this[name][key]\n        },\n        set(this: Context, value: any) {\n          this[name][key] = value\n        },\n      })\n    }\n  }\n\n  export interface ServiceOptions extends MixinOptions {\n    prototype?: any\n  }\n\n  export function service(name: keyof any, options: ServiceOptions = {}) {\n    if (Object.prototype.hasOwnProperty.call(this.prototype, name)) return\n    const privateKey = typeof name === 'symbol' ? name : Symbol(name)\n\n    Object.defineProperty(this.prototype, name, {\n      get(this: Context) {\n        const key = this.mapping[name as any] || privateKey\n        const value = this.root[key]\n        if (!value) return\n        defineProperty(value, Context.current, this)\n        return value\n      },\n      set(this: Context, value) {\n        const key = this.mapping[name as any] || privateKey\n        const oldValue = this.root[key]\n        if (oldValue === value) return\n        this.root[key] = value\n        if (value && typeof value === 'object') {\n          defineProperty(value, Context.source, this)\n        }\n        if (typeof name !== 'string') return\n\n        // trigger event\n        const self: object = Object.create(null)\n        self[Context.filter] = (ctx) => {\n          return this.mapping[name] === ctx.mapping[name]\n        }\n        this.emit(self, 'internal/service', name)\n      },\n    })\n\n    if (isConstructor(options)) {\n      const internal = ensureInternal(this.prototype)\n      internal[privateKey] = options\n    }\n\n    mixin(name, options)\n  }\n\n  function ensureInternal(prototype: {}) {\n    if (Object.prototype.hasOwnProperty.call(prototype, Context.internal)) {\n      return prototype[Context.internal]\n    }\n    const parent = ensureInternal(Object.getPrototypeOf(prototype))\n    return prototype[Context.internal] = Object.create(parent)\n  }\n}\n\nContext.prototype[Context.internal] = Object.create(null)\n\nContext.service('registry', Registry)\nContext.service('lifecycle', Lifecycle)\n\nContext.mixin('state', {\n  properties: ['runtime', 'collect'],\n})\n", "import { Awaitable, defineProperty, Promisify, remove } from 'cosmokit'\nimport { Context } from './context'\nimport { Fork, Runtime } from './state'\nimport { Plugin } from './registry'\n\nexport function isBailed(value: any) {\n  return value !== null && value !== false && value !== undefined\n}\n\nexport type Parameters<F> = F extends (...args: infer P) => any ? P : never\nexport type ReturnType<F> = F extends (...args: any) => infer R ? R : never\nexport type ThisType<F> = F extends (this: infer T, ...args: any) => any ? T : never\nexport type GetEvents<C extends Context> = C[typeof Context.events]\n\ndeclare module './context' {\n  export interface Context {\n    [Context.events]: Events<this>\n    parallel<K extends keyof GetEvents<this>>(name: K, ...args: Parameters<GetEvents<this>[K]>): Promise<void>\n    parallel<K extends keyof GetEvents<this>>(thisArg: ThisType<GetEvents<this>[K]>, name: K, ...args: Parameters<GetEvents<this>[K]>): Promise<void>\n    emit<K extends keyof GetEvents<this>>(name: K, ...args: Parameters<GetEvents<this>[K]>): void\n    emit<K extends keyof GetEvents<this>>(thisArg: ThisType<GetEvents<this>[K]>, name: K, ...args: Parameters<GetEvents<this>[K]>): void\n    serial<K extends keyof GetEvents<this>>(name: K, ...args: Parameters<GetEvents<this>[K]>): Promisify<ReturnType<GetEvents<this>[K]>>\n    serial<K extends keyof GetEvents<this>>(thisArg: ThisType<GetEvents<this>[K]>, name: K, ...args: Parameters<GetEvents<this>[K]>): Promisify<ReturnType<GetEvents<this>[K]>>\n    bail<K extends keyof GetEvents<this>>(name: K, ...args: Parameters<GetEvents<this>[K]>): ReturnType<GetEvents<this>[K]>\n    bail<K extends keyof GetEvents<this>>(thisArg: ThisType<GetEvents<this>[K]>, name: K, ...args: Parameters<GetEvents<this>[K]>): ReturnType<GetEvents<this>[K]>\n    on<K extends keyof GetEvents<this>>(name: K, listener: GetEvents<this>[K], prepend?: boolean): () => boolean\n    once<K extends keyof GetEvents<this>>(name: K, listener: GetEvents<this>[K], prepend?: boolean): () => boolean\n    off<K extends keyof GetEvents<this>>(name: K, listener: GetEvents<this>[K]): boolean\n    start(): Promise<void>\n    stop(): Promise<void>\n  }\n}\n\nexport namespace Lifecycle {\n  export interface Config {\n    maxListeners?: number\n  }\n}\n\nexport class Lifecycle {\n  static readonly methods = ['on', 'once', 'off', 'before', 'after', 'parallel', 'emit', 'serial', 'bail', 'start', 'stop']\n\n  isActive = false\n  _tasks = new Set<Promise<void>>()\n  _hooks: Record<keyof any, [Context, (...args: any[]) => any][]> = {}\n\n  constructor(private root: Context, private config: Lifecycle.Config) {\n    defineProperty(this, Context.current, root)\n    const dispose = this.on('internal/hook', function (name, listener, prepend) {\n      const method = prepend ? 'unshift' : 'push'\n      const { state } = this[Context.current]\n      const { runtime, disposables } = state\n      if (name === 'ready' && this.isActive) {\n        this.queue(listener())\n      } else if (name === 'dispose') {\n        disposables[method](listener as any)\n        defineProperty(listener, 'name', 'event <dispose>')\n        return () => remove(disposables, listener)\n      } else if (name === 'fork') {\n        runtime.forkables[method](listener as any)\n        return state.collect('event <fork>', () => remove(runtime.forkables, listener))\n      }\n    })\n    defineProperty(dispose, Context.static, true)\n  }\n\n  queue(value: any) {\n    const task = Promise.resolve(value)\n      .catch(reason => this.root.emit('internal/warning', reason))\n      .then(() => this._tasks.delete(task))\n    this._tasks.add(task)\n  }\n\n  async flush() {\n    while (this._tasks.size) {\n      await Promise.all(Array.from(this._tasks))\n    }\n  }\n\n  * getHooks(name: keyof any, thisArg?: object) {\n    const hooks = this._hooks[name] || []\n    for (const [context, callback] of hooks.slice()) {\n      const filter = thisArg?.[Context.filter]\n      if (filter && !filter.call(thisArg, context)) continue\n      yield callback\n    }\n  }\n\n  async parallel(...args: any[]) {\n    const thisArg = typeof args[0] === 'object' ? args.shift() : null\n    const name = args.shift()\n    await Promise.all([...this.getHooks(name, thisArg)].map(async (callback) => {\n      try {\n        await callback.apply(thisArg, args)\n      } catch (error) {\n        this.root.emit('internal/warning', error)\n      }\n    }))\n  }\n\n  emit(...args: any[]) {\n    this.parallel(...args)\n  }\n\n  async serial(...args: any[]) {\n    const thisArg = typeof args[0] === 'object' ? args.shift() : null\n    const name = args.shift()\n    for (const callback of this.getHooks(name, thisArg)) {\n      const result = await callback.apply(thisArg, args)\n      if (isBailed(result)) return result\n    }\n  }\n\n  bail(...args: any[]) {\n    const thisArg = typeof args[0] === 'object' ? args.shift() : null\n    const name = args.shift()\n    for (const callback of this.getHooks(name, thisArg)) {\n      const result = callback.apply(thisArg, args)\n      if (isBailed(result)) return result\n    }\n  }\n\n  register(label: string, hooks: [Context, any][], listener: any, prepend?: boolean) {\n    if (hooks.length >= this.config.maxListeners) {\n      this.root.emit('internal/warning', `max listener count (${this.config.maxListeners}) for ${label} exceeded, which may be caused by a memory leak`)\n    }\n\n    const caller = this[Context.current]\n    const method = prepend ? 'unshift' : 'push'\n    hooks[method]([caller, listener])\n    return caller.state.collect(label, () => this.unregister(hooks, listener))\n  }\n\n  unregister(hooks: [Context, any][], listener: any) {\n    const index = hooks.findIndex(([context, callback]) => callback === listener)\n    if (index >= 0) {\n      hooks.splice(index, 1)\n      return true\n    }\n  }\n\n  on(name: keyof any, listener: (...args: any) => any, prepend = false) {\n    // handle special events\n    const result = this.bail(this, 'internal/hook', name, listener, prepend)\n    if (result) return result\n\n    const hooks = this._hooks[name] ||= []\n    const label = typeof name === 'string' ? `event <${name}>` : 'event (Symbol)'\n    return this.register(label, hooks, listener, prepend)\n  }\n\n  once(name: keyof any, listener: (...args: any) => any, prepend = false) {\n    const dispose = this.on(name, function (...args: any[]) {\n      dispose()\n      return listener.apply(this, args)\n    }, prepend)\n    return dispose\n  }\n\n  off(name: keyof any, listener: (...args: any) => any) {\n    return this.unregister(this._hooks[name] || [], listener)\n  }\n\n  async start() {\n    this.isActive = true\n    for (const callback of this.getHooks('ready')) {\n      this.queue(callback())\n    }\n    delete this._hooks.ready\n    await this.flush()\n  }\n\n  async stop() {\n    this.isActive = false\n    // `dispose` event is handled by state.disposables\n    this.root.state.clear(true)\n  }\n}\n\nexport interface Events<C extends Context = Context> {\n  'fork': Plugin.Function<any, C>\n  'ready'(): Awaitable<void>\n  'dispose'(): Awaitable<void>\n  'internal/fork'(fork: Fork<C>): void\n  'internal/runtime'(runtime: Runtime<C>): void\n  'internal/warning'(format: any, ...param: any[]): void\n  'internal/service'(name: string): void\n  'internal/update'(fork: Fork<C>, config: any): void\n  'internal/hook'(this: Lifecycle, name: string, listener: Function, prepend: boolean): () => boolean\n}\n", "import { defineProperty } from 'cosmokit'\nimport { Context } from './context'\nimport { Fork, Runtime, State } from './state'\nimport { resolveConfig } from './utils'\n\nexport function isApplicable(object: Plugin) {\n  return object && typeof object === 'object' && typeof object.apply === 'function'\n}\n\nexport type Plugin<C extends Context = Context> =\n  | Plugin.Function<any, C>\n  | Plugin.Constructor<any, C>\n  | Plugin.Object<any, any, C>\n\nexport namespace Plugin {\n  export type Function<T = any, C extends Context = any> = (ctx: C, options: T) => void\n  export type Constructor<T = any, C extends Context = any> = new (ctx: C, options: T) => void\n\n  export interface Object<S = any, T = any, C extends Context = any> {\n    name?: string\n    apply: Function<T, C>\n    reusable?: boolean\n    Config?: (config?: S) => T\n    schema?: (config?: S) => T\n    using?: readonly string[]\n  }\n\n  export type Config<T extends Plugin<any>> =\n    | T extends Constructor<infer U> ? U\n    : T extends Function<infer U> ? U\n    : T extends Object<infer U> ? U\n    : never\n}\n\ndeclare module './context' {\n  export interface Context {\n    state: State<this>\n    runtime: Runtime<this>\n    collect(label: string, callback: () => boolean): () => boolean\n    using(using: readonly string[], callback: Plugin.Function<void, this>): Fork<this>\n    plugin<T extends Plugin<this>>(plugin: T, config?: boolean | Plugin.Config<T>): Fork<this>\n    /** @deprecated use `ctx.registry.delete()` instead */\n    dispose(plugin?: Plugin<this>): boolean\n  }\n}\n\nexport namespace Registry {\n  export interface Config {}\n}\n\nexport class Registry<C extends Context = Context> extends Map<Plugin<C>, Runtime<C>> {\n  static readonly methods = ['using', 'plugin', 'dispose']\n\n  private _counter = 0\n\n  constructor(private root: Context, private config: Registry.Config) {\n    super()\n    defineProperty(this, Context.current, root)\n    root.state = new Runtime(this, null, config)\n  }\n\n  get counter() {\n    return ++this._counter\n  }\n\n  private resolve(plugin: Plugin) {\n    return plugin && (typeof plugin === 'function' ? plugin : plugin.apply)\n  }\n\n  get(plugin: Plugin<C>) {\n    return super.get(this.resolve(plugin))\n  }\n\n  has(plugin: Plugin<C>) {\n    return super.has(this.resolve(plugin))\n  }\n\n  set(plugin: Plugin<C>, state: Runtime<C>) {\n    return super.set(this.resolve(plugin), state)\n  }\n\n  delete(plugin: Plugin<C>) {\n    plugin = this.resolve(plugin)\n    const runtime = this.get(plugin)\n    if (!runtime) return false\n    super.delete(plugin)\n    return runtime.dispose()\n  }\n\n  using(using: readonly string[], callback: Plugin.Function<void, C>) {\n    return this.plugin({ using, apply: callback, name: callback.name })\n  }\n\n  plugin(plugin: Plugin<C>, config?: any) {\n    // check if it's a valid plugin\n    if (typeof plugin !== 'function' && !isApplicable(plugin)) {\n      throw new Error('invalid plugin, expect function or object with an \"apply\" method')\n    }\n\n    // resolve plugin config\n    config = resolveConfig(plugin, config)\n    if (!config) return\n\n    // check duplication\n    const context = this[Context.current]\n    const duplicate = this.get(plugin)\n    if (duplicate) {\n      if (!duplicate.isForkable) {\n        this.root.emit('internal/warning', `duplicate plugin detected: ${plugin.name}`)\n      }\n      return duplicate.fork(context, config)\n    }\n\n    const runtime = new Runtime(this, plugin, config)\n    return runtime.fork(context, config)\n  }\n\n  dispose(plugin: Plugin<C>) {\n    return this.delete(plugin)\n  }\n}\n", "import { defineProperty, remove } from 'cosmokit'\nimport { Context } from './context'\nimport { Plugin, Registry } from './registry'\nimport { isConstructor, resolveConfig } from './utils'\n\nexport type Disposable = () => void\n\nexport abstract class State<C extends Context = Context> {\n  uid: number\n  runtime: Runtime<C>\n  ctx: C\n  context: Context\n  disposables: Disposable[] = []\n\n  abstract dispose(): boolean\n  abstract restart(): void\n  abstract update(config: any): void\n\n  constructor(public parent: C, public config: any) {\n    this.uid = parent.registry ? parent.registry.counter : 0\n    this.ctx = this.context = parent.extend({ state: this })\n  }\n\n  collect(label: string, callback: () => boolean) {\n    const dispose = () => {\n      remove(this.disposables, dispose)\n      return callback()\n    }\n    this.disposables.push(dispose)\n    defineProperty(dispose, 'name', label)\n    return dispose\n  }\n\n  protected init() {\n    if (this.runtime.using.length) {\n      const dispose = this.context.on('internal/service', (name) => {\n        if (!this.runtime.using.includes(name)) return\n        this.restart()\n      })\n      defineProperty(dispose, Context.static, true)\n    }\n  }\n\n  protected check() {\n    return this.runtime.using.every(name => this.context[name])\n  }\n\n  clear(preserve = false) {\n    this.disposables = this.disposables.splice(0, Infinity).filter((dispose) => {\n      if (preserve && dispose[Context.static]) return true\n      dispose()\n    })\n  }\n}\n\nexport class Fork<C extends Context = Context> extends State<C> {\n  dispose: () => boolean\n\n  constructor(parent: Context, config: any, public runtime: Runtime<C>) {\n    super(parent as C, config)\n\n    this.dispose = parent.state.collect(`fork <${parent.runtime.name}>`, () => {\n      this.uid = null\n      this.clear()\n      const result = remove(runtime.disposables, this.dispose)\n      if (remove(runtime.children, this) && !runtime.children.length) {\n        runtime.dispose()\n      }\n      this.context.emit('internal/fork', this)\n      return result\n    })\n\n    defineProperty(this.dispose, Context.static, true)\n    runtime.children.push(this)\n    runtime.disposables.push(this.dispose)\n    this.context.emit('internal/fork', this)\n    if (runtime.isReusable) this.init()\n    this.restart()\n  }\n\n  restart() {\n    this.clear(true)\n    if (!this.check()) return\n    for (const fork of this.runtime.forkables) {\n      fork(this.context, this.config)\n    }\n  }\n\n  update(config: any) {\n    const oldConfig = this.config\n    const resolved = resolveConfig(this.runtime.plugin, config)\n    this.config = resolved\n    this.context.emit('internal/update', this, config)\n    if (this.runtime.isForkable) {\n      this.restart()\n    } else if (this.runtime.config === oldConfig) {\n      this.runtime.config = resolved\n      this.runtime.restart()\n    }\n  }\n}\n\nexport class Runtime<C extends Context = Context> extends State<C> {\n  runtime = this\n  schema: any\n  using: readonly string[] = []\n  forkables: Function[] = []\n  children: Fork<C>[] = []\n  isReusable: boolean\n\n  constructor(private registry: Registry<C>, public plugin: Plugin, config: any) {\n    super(registry[Context.current] as C, config)\n    registry.set(plugin, this)\n    if (plugin) this.init()\n  }\n\n  get isForkable() {\n    return this.forkables.length > 0\n  }\n\n  get name() {\n    if (!this.plugin) return 'root'\n    const { name } = this.plugin\n    return !name || name === 'apply' ? 'anonymous' : name\n  }\n\n  fork(parent: Context, config: any) {\n    return new Fork(parent, config, this)\n  }\n\n  dispose() {\n    this.uid = null\n    this.clear()\n    if (this.plugin) {\n      this.context.emit('internal/runtime', this)\n      return true\n    }\n  }\n\n  init() {\n    this.schema = this.plugin['Config'] || this.plugin['schema']\n    this.using = this.plugin['using'] || []\n    this.isReusable = this.plugin['reusable']\n    this.context.emit('internal/runtime', this)\n\n    if (this.isReusable) {\n      this.forkables.push(this.apply)\n    } else {\n      super.init()\n    }\n\n    this.restart()\n  }\n\n  private apply = (context: Context, config: any) => {\n    if (typeof this.plugin !== 'function') {\n      this.plugin.apply(context, config)\n    } else if (isConstructor(this.plugin)) {\n      // eslint-disable-next-line new-cap\n      const instance = new this.plugin(context, config)\n      const name = instance[Context.immediate]\n      if (name) {\n        context[name] = instance\n      }\n      if (instance['fork']) {\n        this.forkables.push(instance['fork'].bind(instance))\n      }\n    } else {\n      this.plugin(context, config)\n    }\n  }\n\n  restart() {\n    this.clear(true)\n    if (!this.check()) return\n\n    // execute plugin body\n    if (!this.isReusable) {\n      this.apply(this.context, this.config)\n    }\n\n    for (const fork of this.children) {\n      fork.restart()\n    }\n  }\n\n  update(config: any) {\n    if (this.isForkable) {\n      this.context.emit('internal/warning', `attempting to update forkable plugin \"${this.plugin.name}\", which may lead to unexpected behavior`)\n    }\n    const oldConfig = this.config\n    const resolved = resolveConfig(this.runtime.plugin, config)\n    this.config = resolved\n    for (const fork of this.children) {\n      if (fork.config !== oldConfig) continue\n      fork.config = resolved\n      this.context.emit('internal/update', fork, config)\n    }\n    this.restart()\n  }\n}\n", "export function isConstructor(func: any): func is new (...args: any) => any {\n  // async function or arrow function\n  if (!func.prototype) return false\n  // generator function or malformed definition\n  if (func.prototype.constructor !== func) return false\n  return true\n}\n\nexport function resolveConfig(plugin: any, config: any) {\n  if (config === false) return\n  if (config === true) config = undefined\n  config ??= {}\n\n  const schema = plugin['Config'] || plugin['schema']\n  if (schema && plugin['schema'] !== false) config = schema(config)\n  return config\n}\n", "import { Awaitable, defineProperty } from 'cosmokit'\nimport { Context } from './context'\n\nexport class Service<C extends Context = Context> {\n  protected start(): Awaitable<void> {}\n  protected stop(): Awaitable<void> {}\n  protected fork?(ctx: C, config: any): void\n\n  constructor(protected ctx: C, name: string, immediate?: boolean) {\n    Object.getPrototypeOf(ctx.root).constructor.service(name)\n    defineProperty(this, Context.current, ctx)\n\n    if (immediate) {\n      this[Context.immediate] = name\n    }\n\n    ctx.on('ready', async () => {\n      // await until next tick because derived class has not been initialized yet\n      await Promise.resolve()\n      await this.start()\n      ctx[name] = this\n    })\n\n    ctx.on('dispose', async () => {\n      ctx[name] = null\n      await this.stop()\n    })\n  }\n\n  get caller() {\n    return this[Context.current] as C\n  }\n}\n", "import d from \"../client/index.ts\";export default d;\nexport * from \"../client/index.ts\""],
  "mappings": "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",
  "names": ["root", "Comment", "injections", "ref", "root", "root", "config", "__publicField", "remove", "defineProperty", "registry", "Context", "Context", "routes", "Card"]
}
